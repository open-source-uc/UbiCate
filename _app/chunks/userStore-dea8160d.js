var m=Object.defineProperty,S=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var d=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var c=(e,t,o)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,i=(e,t)=>{for(var o in t||(t={}))d.call(t,o)&&c(e,o,t[o]);if(r)for(var o of r(t))T.call(t,o)&&c(e,o,t[o]);return e},a=(e,t)=>S(e,f(t));import{w as b}from"./index-2eb24d17.js";function w(e){return t=>{[null,void 0].includes(t)?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))}}function x(e,t){const o=b(t),l=localStorage.getItem(e);return l!==null&&o.set(JSON.parse(l)),o.subscribe(w(e)),o}function D(){const{set:e,subscribe:t}=x("userData",null),o=l=>{if(console.log(l),!l){e(null);return}const s=a(i({},l),{exp:new Date(l.exp*1e3),iat:new Date(l.exp*1e3)});console.log(s);const u=new Date,n=s.exp.getTime()-u.getTime();if(console.log(n),n<=0){e(null);return}e(s);const g=setTimeout(()=>e(null),n);return()=>clearTimeout(g)};return console.log("1"),{subscribe:t,set:o,close:()=>o(null)}}const J=D();export{J as u};
